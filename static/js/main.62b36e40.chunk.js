(this.webpackJsonpzero=this.webpackJsonpzero||[]).push([[0],{28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(0),a=n.n(r),s=n(20),o=n.n(s),i=(n(28),n(11)),l=n(12),u=n(18),j=(n(29),n(21)),b=a.a.createContext();function d(e){var t=e.letter,n=Object(r.useContext)(b).fullList,a=function(e){var t,c=[],r=Object(j.a)(n);try{for(r.s();!(t=r.n()).done;){var a=t.value;a.lastName[0].toUpperCase()===e&&c.push(a)}}catch(s){r.e(s)}finally{r.f()}return c.sort((function(e,t){var n=e.lastName.toLowerCase()+e.firstName.toLowerCase(),c=t.lastName.toLowerCase()+t.firstName.toLowerCase();return n.localeCompare(c)})),c}(t);return Object(c.jsx)("div",{children:a.length?a.map((function(e){return Object(c.jsx)(h,{data:e},e.id)})):"----------"})}function h(e){var t=Object(r.useContext)(b),n=t.checkedIdsList,a=t.toggleEmployee;return Object(c.jsxs)("label",{className:"employee",children:[e.data.lastName," ",e.data.firstName,Object(c.jsx)("input",{type:"checkbox",checked:-1!==n.indexOf(e.data.id),onChange:function(){return a(e.data.id)}})]})}function f(e){var t=e.letter;return Object(c.jsxs)("div",{className:"employeesListItem",children:[Object(c.jsx)("h2",{children:t}),Object(c.jsx)(d,{letter:t})]})}var O=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("").map((function(e){return Object(c.jsx)(f,{letter:e},e)}));return Object(c.jsxs)("div",{className:"employeesList",children:[Object(c.jsx)("h1",{children:"Employees"}),Object(c.jsx)("div",{children:e})]})},m=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(e){var t=e.employees;return Object(c.jsx)("ul",{children:t.map((function(e){return Object(c.jsx)(y,{data:e},e.id)}))})}function x(e){var t=new Date(e);return"".concat(t.getDate()," ").concat(m[t.getMonth()]," ").concat(t.getFullYear()," year")}function y(e){return Object(c.jsxs)("li",{className:"birthRecord",children:[e.data.lastName," ",e.data.firstName," - ",x(e.data.dob)]})}function v(e){var t=e.month,n=e.employees;return Object(c.jsxs)("div",{className:"birthdayMonth",children:[Object(c.jsx)("h4",{children:t}),Object(c.jsx)("div",{children:Object(c.jsx)(p,{month:t,employees:n})})]})}var g=function(){var e=Object(r.useContext)(b).checkedEmployeeList,t=m.filter((function(t){return e[t]})),n=t.map((function(t){return Object(c.jsx)(v,{month:t,employees:e[t]},t)}));return Object(c.jsxs)("div",{className:"employeesBirth",children:[Object(c.jsx)("h2",{children:" Employees birthday "}),Object(c.jsx)("div",{children:t.length?n:Object(c.jsx)("div",{className:"noEmployee",children:"'No selected employees'"})})]})},N=n(15),C=n(2);var L=function(e,t){var n=["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(e.dob).getMonth()],c=t;return c[n]=c[n]||[],c[n].push(Object(u.a)({},e)),c[n].sort((function(e,t){return new Date(e.dob).setFullYear(2e3)-new Date(t.dob).setFullYear(2e3)})),c};var E=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)([]),o=Object(l.a)(s,2),j=o[0],d=o[1],h=Object(r.useState)({}),f=Object(l.a)(h,2),m=f[0],p=f[1];return Object(r.useEffect)((function(){fetch("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return e.json()})).catch((function(e){console.log("Fetch of employees failed: ",e)})).then((function(e){a(Object(i.a)(e))})),new Promise((function(e,t){e(localStorage.employees?JSON.parse(localStorage.employees):[])})).then((function(e){d(Object(i.a)(e))}))}),[]),Object(r.useEffect)((function(){var e=function(e,t){var n={};return e.forEach((function(e){-1!==t.indexOf(e.id)&&(n=L(e,n))})),n}(n,j);!function(e){localStorage.employees=JSON.stringify(e)}(j),p(Object(u.a)({},e))}),[n,j]),Object(c.jsx)(b.Provider,{value:{fullList:n,checkedIdsList:j,checkedEmployeeList:m,toggleEmployee:function(e){-1===j.indexOf(e)?d([].concat(Object(i.a)(j),[e])):d(Object(i.a)(j).filter((function(t){return t!==e})))}},children:Object(c.jsx)(N.a,{children:Object(c.jsxs)(C.c,{children:[Object(c.jsx)(C.a,{path:"/TestTask/employees",children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(O,{}),Object(c.jsx)(g,{})]})}),Object(c.jsxs)(C.a,{path:"*",children:["go to the ",Object(c.jsx)(N.b,{to:"./employees",children:"Employees Page"})]})]})})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),S()}},[[35,1,2]]]);
//# sourceMappingURL=main.62b36e40.chunk.js.map